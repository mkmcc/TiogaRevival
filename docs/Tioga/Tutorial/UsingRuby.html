<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module Tioga::Tutorial::UsingRuby - RDoc Documentation</title>

<link href="../../fonts.css" rel="stylesheet">
<link href="../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/navigation.js"></script>
<script src="../../js/search_index.js"></script>
<script src="../../js/search.js"></script>
<script src="../../js/searcher.js"></script>
<script src="../../js/darkfish.js"></script>


<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="UsingRuby.html#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    
  </div>
</nav>

<main role="main" aria-labelledby="module-Tioga::Tutorial::UsingRuby">
  <h1 id="module-Tioga::Tutorial::UsingRuby" class="module">
    module Tioga::Tutorial::UsingRuby
  </h1>

  <section class="description">
    
<h1 id="module-Tioga::Tutorial::UsingRuby-label-The+bare+essentials+for+using+ruby+with+tioga">The bare essentials for using ruby with tioga<span><a href="UsingRuby.html#module-Tioga::Tutorial::UsingRuby-label-The+bare+essentials+for+using+ruby+with+tioga">&para;</a> <a href="UsingRuby.html#documentation">&uarr;</a></span></h1>

<p>If you&#39;re asking  “What&#39;s Ruby?”, then take a moment to visit the
<a href="http://www.ruby-lang.org/en/20020101.html">What’s Ruby</a> page.
Briefly, Ruby is an object-oriented, highly dynamic “scripting” language
created by Yukihiro Matsumoto with the intent to “maximize the joy of
programming”.  I think he succeeded!</p>

<p>First, a disclaimer: this is NOT a complete tutorial for Ruby.  As a matter
of fact, this isn&#39;t even an incomplete tutorial for Ruby.  I&#39;m just
going to cover enough so that you can use Ruby to write simple definitions
for tioga figures and plots.  At the end, I&#39;ll give some links to
places where you can get much more information.</p>

<p><img src="../../images/append_curve.png" /></p>

<p>Here&#39;s the “curve” procedure from “plots.rb” that creates the
“append_curve_to_path” plot shown above. Don&#39;t worry about
understanding the details of what&#39;s going on (we&#39;ll be discussing
this routine later in the <a href="SimpleFigure.html">SimpleFigure</a>
section).  The discussion at this point is at the level of syntax and
issues like what a procedure call looks like.</p>

<pre class="ruby"> <span class="ruby-value">1</span>  <span class="ruby-keyword">def</span> <span class="ruby-identifier">curve</span>
 <span class="ruby-value">2</span>      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">landscape</span>
 <span class="ruby-value">3</span>      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">show_text</span>(<span class="ruby-string">&#39;text&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;append\_curve\_to\_path&#39;</span>,
           <span class="ruby-string">&#39;side&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">TOP</span>, <span class="ruby-string">&#39;shift&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0.6</span>,
           <span class="ruby-string">&#39;justification&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">CENTERED</span>,
           <span class="ruby-string">&#39;scale&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0.9</span>, <span class="ruby-string">&#39;position&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0.5</span>)
 <span class="ruby-value">4</span>      <span class="ruby-identifier">background</span>
 <span class="ruby-value">5</span>      <span class="ruby-identifier">x0</span> = <span class="ruby-value">0.75</span>; <span class="ruby-identifier">y0</span> = <span class="ruby-value">0.9</span>
 <span class="ruby-value">6</span>      <span class="ruby-identifier">x1</span> = <span class="ruby-value">0.9</span>; <span class="ruby-identifier">y1</span> = <span class="ruby-value">0.3</span>
 <span class="ruby-value">7</span>      <span class="ruby-identifier">x2</span> = <span class="ruby-value">0.4</span>; <span class="ruby-identifier">y2</span> = <span class="ruby-value">0.1</span>
 <span class="ruby-value">8</span>      <span class="ruby-identifier">x3</span> = <span class="ruby-value">0.1</span>; <span class="ruby-identifier">y3</span> = <span class="ruby-value">0.8</span>
 <span class="ruby-value">9</span>      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">move_to_point</span>(<span class="ruby-identifier">x0</span>, <span class="ruby-identifier">y0</span>)
<span class="ruby-value">10</span>      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">append_curve_to_path</span>(<span class="ruby-identifier">x1</span>, <span class="ruby-identifier">y1</span>, <span class="ruby-identifier">x2</span>, <span class="ruby-identifier">y2</span>, <span class="ruby-identifier">x3</span>, <span class="ruby-identifier">y3</span>)
<span class="ruby-value">11</span>      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">line_width</span> = <span class="ruby-value">2.5</span>
<span class="ruby-value">12</span>      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">line_color</span> = <span class="ruby-constant">DarkBlue</span>
<span class="ruby-value">13</span>      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">stroke</span>
<span class="ruby-value">14</span>      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">show_marker</span>(
            <span class="ruby-string">&#39;xs&#39;</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-identifier">x0</span>, <span class="ruby-identifier">x1</span>, <span class="ruby-identifier">x2</span>, <span class="ruby-identifier">x3</span> ],
            <span class="ruby-string">&#39;ys&#39;</span> =<span class="ruby-operator">&gt;</span> [ <span class="ruby-identifier">y0</span>, <span class="ruby-identifier">y1</span>, <span class="ruby-identifier">y2</span>, <span class="ruby-identifier">y3</span> ],
            <span class="ruby-string">&#39;marker&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Bullet</span>,
            <span class="ruby-string">&#39;scale&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0.6</span>,
            <span class="ruby-string">&#39;color&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Red</span>);
<span class="ruby-value">15</span>      <span class="ruby-identifier">dx</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">default_text_height_dx</span> <span class="ruby-operator">*</span> <span class="ruby-value">1.4</span>
<span class="ruby-value">16</span>      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">show_label</span>(<span class="ruby-string">&#39;x&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">x0</span><span class="ruby-operator">+</span><span class="ruby-identifier">dx</span>, <span class="ruby-string">&#39;y&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">y0</span>,
            <span class="ruby-string">&#39;text&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;start&quot;</span>, <span class="ruby-string">&#39;scale&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0.9</span>);
<span class="ruby-value">17</span>      <span class="ruby-identifier">scale</span> = <span class="ruby-value">1.2</span>; <span class="ruby-identifier">dy</span> = <span class="ruby-identifier">t</span>.<span class="ruby-identifier">default_text_height_dy</span> <span class="ruby-operator">*</span> <span class="ruby-value">0.8</span>
<span class="ruby-value">18</span>      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">show_marker</span>(
            <span class="ruby-string">&#39;at&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">x1</span>, <span class="ruby-identifier">y1</span><span class="ruby-operator">+</span><span class="ruby-identifier">dy</span>],
            <span class="ruby-string">&#39;marker&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Circled1</span>, <span class="ruby-string">&#39;scale&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">scale</span>);
<span class="ruby-value">19</span>      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">show_marker</span>(
            <span class="ruby-string">&#39;at&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">x2</span>, <span class="ruby-identifier">y2</span><span class="ruby-operator">+</span><span class="ruby-identifier">dy</span>],
            <span class="ruby-string">&#39;marker&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Circled2</span>, <span class="ruby-string">&#39;scale&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">scale</span>);
<span class="ruby-value">20</span>      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">show_marker</span>(
            <span class="ruby-string">&#39;at&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">x3</span>, <span class="ruby-identifier">y3</span><span class="ruby-operator">+</span><span class="ruby-identifier">dy</span>],
            <span class="ruby-string">&#39;marker&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Circled3</span>, <span class="ruby-string">&#39;scale&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">scale</span>);
<span class="ruby-value">21</span>  <span class="ruby-keyword">end</span>
</pre>

<p>The “t.” stuff simply means we&#39;re talking to tioga, either to get
values of variables (which in Ruby are called “attributes”) or to get it to
execute one of its procedures (which are called “methods”).  There are
cases in which we&#39;re setting attributes, such as line_width and
line_color (lines 11 and 12), or using the values of attributes, such as
default_text_height_dy (line 17).</p>

<p>There are a couple of obvious procedure calls to move_to_point and
append_curve_to_path (lines 9 and 10). The “t.landscape” on line 1 and the 
the “t.stroke” on line 13 are procedure calls too even though they lack
parentheses. Turns out that Ruby doesn&#39;t need you to write
“t.landscape()” or “t.stroke()” since it can figure out what&#39;s going on
(but if you&#39;d like to keep the parens, that&#39;s ok too).</p>

<p>On lines 5 to 8, we&#39;ve used semicolons to put two statements on a
single line.  Except for that special use, you can forget about semicolons.
Square brackets are used for creating arrays (as in the calls to
show_marker).</p>

<p>Take a look at the calls to show_text, show_marker, and show_label (lines
3, 14, and 16).  The arguments  are given as “key-value” pairs. Actually,
if you look at the documentation for any of these three methods, you&#39;ll
see that they  take a single argument which is a dictionary (called a
“Hash” in Ruby in honor of the “hash tables” of computer science lingo). 
Ruby knows about dictionaries of course, and allows you to write a
dictionary expression of the form</p>

<pre class="ruby">{ <span class="ruby-string">&#39;at&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">x1</span>, <span class="ruby-identifier">y1</span><span class="ruby-operator">+</span><span class="ruby-identifier">dy</span>], <span class="ruby-string">&#39;marker&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Circled1</span> }
</pre>

<p>Just as the [ … ] form constructs an array, the { … } form is used to
construct a dictionary. In an argument list, Ruby lets you drop the curly
brackets since it can figure out the meaning (unless you&#39;ve done
something goofy like have two args in a row that are both dictionaries). 
The biggest benefits from using dictionaries for argument lists are the
freedom they allow for optional arguments, the arbitrary argument ordering,
and the “self-documenting” calls.</p>

<p>Here&#39;s an example showing the usual form for calling routines with a
dictionary for it argument:</p>

<pre class="ruby"><span class="ruby-identifier">t</span>.<span class="ruby-identifier">show_marker</span>( <span class="ruby-string">&#39;at&#39;</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-identifier">x1</span>, <span class="ruby-identifier">y1</span><span class="ruby-operator">+</span><span class="ruby-identifier">dy</span>], <span class="ruby-string">&#39;marker&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Circled1</span> )
</pre>

<p>The strings “at” and “marker” are the dictionary keys.  The “=&gt;” symbol
links the key to its value. The value for “at” is an array with entries x1
and y1+dy.  The value for “marker” is a constant (you can tell by the
initial capital letter – in Ruby an name is the name of a constant if and
only if it has a  first letter that is a capital).</p>

<p>Notice the flexibility this use of dictionaries for arguments gives.  Back
in the “curve” method, on line 14, the first call to show_marker gives the
positions as vectors of x and y locations by using the dictionary keys “xs”
and “ys”.  In the later calls, the positions are given as an [x,y] pair
using the key “at”.  In the first call, the color is given explicitly,
while in the later calls it is omited and the default color is used
instead.  And in no case is the order in which the entries are listed
significant to the way the code works.</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

